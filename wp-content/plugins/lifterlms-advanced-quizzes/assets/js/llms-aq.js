(()=>{var e={850:function(e){e.exports=(()=>{"use strict";var e={314:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s,wordsCount:()=>l,wordsSplit:()=>i,wordsDetect:()=>o});var r=[",","，",".","。",":","：",";","；","[","]","【","]","】","{","｛","}","｝","(","（",")","）","<","《",">","》","$","￥","!","！","?","？","~","～","'","’",'"',"“","”","*","/","\\","&","%","@","#","^","、","、","、","、"],n={words:[],count:0},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return n;var a=String(e);if(""===a.trim())return n;var o=t.punctuationAsBreaker?" ":"",l=t.disableDefaultPunctuation?[]:r,i=t.punctuation||[];l.concat(i).forEach((function(e){var t=new RegExp("\\"+e,"g");a=a.replace(t,o)})),a=(a=(a=(a=a.replace(/[\uFF00-\uFFEF\u2000-\u206F]/g,"")).replace(/\s+/," ")).split(" ")).filter((function(e){return e.trim()}));var s=new RegExp("(\\d+)|[a-zA-ZÀ-ÿĀ-ſƀ-ɏɐ-ʯḀ-ỿЀ-ӿԀ-ԯഀ-ൿ]+|[⺀-⻿⼀-⿟　-〿㇀-㇯㈀-㋿㌀-㏿㐀-㿿䀀-䶿一-俿倀-忿怀-濿瀀-翿耀-迿退-鿿豈-﫿぀-ゟ゠-ヿㇰ-ㇿ㆐-㆟ᄀ-ᇿ㄰-㆏ꥠ-꥿가-꿿뀀-뿿쀀-쿿퀀-힯ힰ-퟿]","g"),d=[];return a.forEach((function(e){var t,a=[];do{(t=s.exec(e))&&a.push(t[0])}while(t);0===a.length?d.push(e):d=d.concat(a)})),{words:d,count:d.length}},l=function(e){return o(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).count},i=function(e){return o(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).words};const s=l}},t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={exports:{}};return e[r](n,n.exports,a),n.exports}return a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a(314)})()}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=a(850),t=a.n(e);const r=window.wp.i18n;function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o;o=jQuery,window.llms=window.llms||{},window.llms.advanced_quizzes=new function(){var e=window.llms.quizzes,a={modes:{},themes:{}};function l(e,t){var a=new CodeMirror.fromTextArea(e,t);a.on("change",(function(e,t){a.save()}))}function i(t){if(function(t){var a=o("#llms-aq-upload-file").attr("accept");if(a){var n="."+t.name.split(".").reverse()[0];if(-1===o.map(a.split(","),o.trim).indexOf(n))return e.add_error((0,r.__)("Invalid file type selected.","lifterlms-advanced-quizzes")),!1}return!0}(t)){var a=o("#llms-aq-uploader-zone"),l=new FormData;l.append("action","llms_aq_upload_file"),l.append("attempt_key",e.attempt_key),l.append("question_id",e.current_question),l.append("file",t),l.append("nonce",o("#llms-aq-upload-nonce").val()),LLMS.Ajax.call({data:l,contentType:!1,processData:!1,beforeSend:function(){LLMS.Spinner.start(a)},error:function(t,r,o){var l;l="object"===n(o)&&o.message?o.message:o,e.add_error(l),LLMS.Spinner.stop(a)},success:function(t){LLMS.Spinner.stop(a),t&&t.success&&t.data&&t.data.attachment_id?(o("#llms_upload_attachment_id").val(t.data.attachment_id),e.trigger("answer_question")):e.add_error(t.message)}})}}function s(t){var a=e.validate(t);return t.find('.llms-aq-reorder-list input[type="hidden"]').each((function(){a.answer.push(o(this).val())})),a}return o(document).on("llms-pre-append-question",(function(e,t){var a=o(t);switch(a.attr("data-type")){case"long_answer":!function(e){if("yes"!==e.attr("data-llms-setup")){var t=e.find(".llms-aq-long-answer-field")[0];new Quill(t,{modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}]]},scrollingContainer:".llms-scrolling-container",theme:"snow"}),e.attr("data-llms-setup","yes")}}(a);break;case"reorder":case"picture_reorder":!function(e){var t=e.find(".llms-aq-reorder-list"),a=t.attr("data-aq-cols")?" llms-col-"+t.attr("data-aq-cols"):"";t.sortable({handle:".llms-aq-drag-handle",revert:200,items:"> .llms-aq-reorder-item",placeholder:"llms-aq-reorder-item llms-choice type--"+t.attr("data-aq-type")+" llms-aq-placeholder"+a,start:function(e,a){t.addClass("dragging"),a.placeholder.height(a.item.innerHeight())},stop:function(){t.removeClass("dragging"),t.find(".llms-aq-reorder-item .iterator").each((function(e){o(this).text(e+1)}))}})}(a);break;case"upload":!function(e){"yes"!==e.attr("data-llms-setup")&&(window.ondragover=function(e){e.preventDefault()},window.ondrop=function(e){e.preventDefault(),o(e.target).closest(".llms-aq-uploader").length&&i(e.dataTransfer.files[0])},e.find("#llms-aq-uploader-zone").on("dragover",(function(){o(this).addClass("dragover")})),e.find("#llms-aq-uploader-zone").on("dragout",(function(){o(this).removeClass("dragover")})),e.find("#llms-aq-upload-file").on("change",(function(e){i(e.target.files[0])})),e.attr("data-llms-setup","yes"))}(a)}})),o(document).on("llms-post-append-question",(function(e,t){var r=o(t);"code"===r.attr("data-type")&&function(e){if("yes"!==e.attr("data-llms-setup")){var t=e.find(".llms-aq-code-field")[0],r=window.llms.advanced_quizzes.cm_settings;a.themes[r.theme]||(o("<link />",{rel:"stylesheet",type:"text/css",href:r.assets_path+"themes/"+r.theme+".css"}).appendTo("head"),a.themes[r.theme]=!0),a.modes[r.mode]?l(t,r):o.getScript(r.assets_path+"modes/"+r.mode+".js",(function(){l(t,r),a.modes[r.mode]=!0})),e.attr("data-llms-setup","yes")}}(r)})),e.register_validator("blank",(function(t){var a=e.validate(t),n=t.find(".llms-aq-blank"),l=n.length>1?(0,r.__)("Fill in all the blanks to continue.","lifterlms-advanced-quizzes"):(0,r.__)("Fill in the blank to continue.","lifterlms-advanced-quizzes");return n.each((function(){var e=o(this).val();e||(a.valid=l),a.answer.push(e)})),a})),e.register_validator("code",(function(t){var a=e.validate(t),n=t.find(".llms-aq-code-field").val();return n?a.answer.push(n):a.valid=(0,r.__)("You must provide an answer to continue","lifterlms-advanced-quizzes"),a})),e.register_validator("long_answer",(function(a){var n=e.validate(a),o=a.find(".llms-aq-long-answer-field"),l=o.find(".ql-editor")[0],i=o.attr("data-words-min"),s=o.attr("data-words-max"),d=t()(l.textContent);return d?i&&d<i?n.valid=(0,r.sprintf)(// Translators: %1$d = Number of words in the current answer; %2$d = The minimum required number of words.
(0,r.__)("Your answer is %1$d words long and it must be at least %2$d words long to proceed","lifterlms-advanced-quizzes"),d,i):s&&d>s?n.valid=(0,r.sprintf)(// Translators: %1$d = Number of words in the current answer; %2$d = The maximum allowed number of words.
(0,r.__)("Your answer is %1$d words long and it cannot be longer than %2$d words long to proceed","lifterlms-advanced-quizzes"),d,s):n.answer.push(l.innerHTML):n.valid=(0,r.__)("You must provide an answer to continue","lifterlms-advanced-quizzes"),n})),e.register_validator("reorder",s),e.register_validator("picture_reorder",s),e.register_validator("scale",(function(t){var a=e.validate(t),n=t.find('input[name="llms_aq_scale"]:checked'),o=n.length?n.val():"";return o?a.answer.push(o):a.valid=(0,r.__)("You must select an option to continue","lifterlms-advanced-quizzes"),a})),e.register_validator("short_answer",(function(t){var a=e.validate(t),n=t.find(".llms-aq-short-answer-field").val();return n?a.answer.push(n):a.valid=(0,r.__)("You must provide an answer to continue","lifterlms-advanced-quizzes"),a})),e.register_validator("upload",(function(t){var a=e.validate(t),n=t.find("#llms_upload_attachment_id").val();return n?a.answer.push(n):a.valid=(0,r.__)("You must upload a file to proceed","lifterlms-advanced-quizzes"),a})),this}})()})();